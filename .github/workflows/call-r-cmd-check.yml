# Run r cmd check
name: call-r-cmd-check
# on specifies the build triggers. See more info at https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows
on: 
  push: 
    paths-ignore: 
      - '.github/**'
      - 'README.md'
  workflow_dispatch:
jobs:
  update-ubuntu:
    runs-on: ubuntu-latest
    steps:
      - name: update ubuntu
          runs |
            sudo apt-get update
            sudo apt-get install -y libcurl4-openssl-dev
            sudo add-apt-repository ppa:ubuntu-toolchain-r/test
            sudo apt-get install --only-upgrade libstdc++6
            
  call-workflow:      
    uses: nmfs-fish-tools/ghactions4r/.github/workflows/r-cmd-check.yml@main
    
  # call-workflow-extra:
  #   # this step runs the r4ss tests again, after downloading ss3 exes and the
  #   # nmfs-ost/ss3-test-models repo.
  #   uses: r4ss/r4ss/.github/workflows/r4ss-extra-tests.yml@main

