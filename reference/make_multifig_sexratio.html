<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Modified version of make_multifig() for multi-figure
plots of sex ratio data with crude confidence intervals (+/i 1 se) and
fits from Stock Synthesis output."><title>Create multi-figure sex ratio plots. — make_multifig_sexratio • r4ss</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create multi-figure sex ratio plots. — make_multifig_sexratio"><meta property="og:description" content="Modified version of make_multifig() for multi-figure
plots of sex ratio data with crude confidence intervals (+/i 1 se) and
fits from Stock Synthesis output."><meta property="og:image" content="https://r4ss.github.io/r4ss/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">r4ss</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.48.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example-plots.html">Example r4ss plots</a>
    <a class="dropdown-item" href="../articles/r4ss-intro-vignette.html">Introduction to r4ss</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r4ss/r4ss/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create multi-figure sex ratio plots.</h1>
      <small class="dont-index">Source: <a href="https://github.com/r4ss/r4ss/blob/HEAD/R/make_multifig_sexratio.R" class="external-link"><code>R/make_multifig_sexratio.R</code></a></small>
      <div class="d-none name"><code>make_multifig_sexratio.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Modified version of <code><a href="make_multifig.html">make_multifig()</a></code> for multi-figure
plots of sex ratio data with crude confidence intervals (+/i 1 se) and
fits from Stock Synthesis output.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_multifig_sexratio</span><span class="op">(</span></span>
<span>  <span class="va">dbase</span>,</span>
<span>  sexratio.option <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  CI <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  sampsizeround <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  maxrows <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  maxcols <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  rows <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cols <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fixdims <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  main <span class="op">=</span> <span class="st">""</span>,</span>
<span>  cex.main <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Fraction female"</span>,</span>
<span>  horiz_lab <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  xbuffer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  ybuffer <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  yupper <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datonly <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  showsampsize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  showeffN <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  axis1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ptscex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ptscol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">gray</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  linescol <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  lty <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  nlegends <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  legtext <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"yr"</span>, <span class="st">"sampsize"</span>, <span class="st">"effN"</span><span class="op">)</span>,</span>
<span>  legx <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  legy <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  legadjx <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  legadjy <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  legsize <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.2</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  legfont <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  ipage <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  multifig_oma <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dbase</dt>
<dd><p>element of list created by <code><a href="SS_output.html">SS_output()</a></code> passed from
<code><a href="SSplotSexRatio.html">SSplotSexRatio()</a></code></p></dd>


<dt>sexratio.option</dt>
<dd><p>code to choose among (1) female:male ratio or
(2) fraction females out of the total (the default)</p></dd>


<dt>CI</dt>
<dd><p>confidence interval for uncertainty</p></dd>


<dt>sampsizeround</dt>
<dd><p>rounding level for sample size values</p></dd>


<dt>maxrows</dt>
<dd><p>maximum (or fixed) number or rows of panels in the plot</p></dd>


<dt>maxcols</dt>
<dd><p>maximum (or fixed) number or columns of panels in the plot</p></dd>


<dt>rows</dt>
<dd><p>number or rows to return to as default for next plots to come or
for single plots</p></dd>


<dt>cols</dt>
<dd><p>number or cols to return to as default for next plots to come or
for single plots</p></dd>


<dt>fixdims</dt>
<dd><p>fix the dimensions at maxrows by maxcols or resize based on
number of elements in <code>yr</code> input.</p></dd>


<dt>main</dt>
<dd><p>title of plot</p></dd>


<dt>cex.main</dt>
<dd><p>Character expansion for plot titles.
The default is <code>cex.main=1</code>.</p></dd>


<dt>xlab</dt>
<dd><p>x-axis label</p></dd>


<dt>ylab</dt>
<dd><p>y-axis label</p></dd>


<dt>horiz_lab</dt>
<dd><p>axis labels set horizontal all the time (TRUE), never
(FALSE) or only when relatively short ("default")</p></dd>


<dt>xbuffer</dt>
<dd><p>extra space around points on the left and right as fraction
of total width of plot</p></dd>


<dt>ybuffer</dt>
<dd><p>extra space around points on the bottom and top as fraction
of total height of plot. "default" will cause c(0,.15) for sexratio.option=1
and c(.15, .3) for sexratio.option=2.</p></dd>


<dt>yupper</dt>
<dd><p>upper limit on ymax (applied before addition of ybuffer)</p></dd>


<dt>datonly</dt>
<dd><p>make plots of data without fits?</p></dd>


<dt>showsampsize</dt>
<dd><p>add sample sizes to plot</p></dd>


<dt>showeffN</dt>
<dd><p>add effective sample sizes to plot</p></dd>


<dt>axis1</dt>
<dd><p>position of bottom axis values</p></dd>


<dt>axis2</dt>
<dd><p>position of left size axis values</p></dd>


<dt>ptscex</dt>
<dd><p>character expansion factor for points (default=1)</p></dd>


<dt>ptscol</dt>
<dd><p>color for points/bars</p></dd>


<dt>linescol</dt>
<dd><p>color for fitted model</p></dd>


<dt>lty</dt>
<dd><p>line type</p></dd>


<dt>lwd</dt>
<dd><p>Line width for plot elements.</p></dd>


<dt>nlegends</dt>
<dd><p>number of lines of text to add as legends in each plot</p></dd>


<dt>legtext</dt>
<dd><p>text in legend, a list of length=nlegends. values may be any
of 1.  "yr", 2. "sampsize", 3. "effN", or a vector of length = ptsx.</p></dd>


<dt>legx</dt>
<dd><p>vector of length=nlegends of x-values of legends (default is
first one on left, all after on right)</p></dd>


<dt>legy</dt>
<dd><p>vector of length=nlegends of y-values of legends (default is top
for all plots)</p></dd>


<dt>legadjx</dt>
<dd><p>left/right adjustment of legends around legx</p></dd>


<dt>legadjy</dt>
<dd><p>left/right adjustment of legends around legy</p></dd>


<dt>legsize</dt>
<dd><p>font size for legends. default=c(1.2,1.0) (larger for year
and normal for others)</p></dd>


<dt>legfont</dt>
<dd><p>font type for legends, same as "font" under ?par</p></dd>


<dt>ipage</dt>
<dd><p>which page of plots when covering more than will fit within
maxrows by maxcols.</p></dd>


<dt>multifig_oma</dt>
<dd><p>vector of outer margins. Can be input to SS_plots and will be
passed to this function via the ... argument.</p></dd>


<dt>...</dt>
<dd><p>additional arguments (NOT YET IMPLEMENTED).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The SE of the sex ratio is crude and calculated as
follows. First, assume a multinomial which as MLEs of proportions. Then
use the delta method of the ratio F/M, using the MLE as the expected
values and analytical variances and covariance between F and M. After
some algebra this calculation reduces to: <code>SE(F/M)= sqrt((f/m)^2*( (1-f)/(f*N) + (1-m)/(m*N) +2/N ))</code>. Confidence intervals created from
these should be considered very crude and would not necessarily be
appropriate for future alternative compositional likelihoods.</p>
<p>This function was derived from make_multifig and hence has a lot of
overlap in functionality and arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SS_plots.html">SS_plots()</a></code>,<code><a href="SSplotSexRatio.html">SSplotSexRatio()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Cole Monnahan. Adapted from <code><a href="make_multifig.html">make_multifig()</a></code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ian G. Taylor, Ian J. Stewart, Allan C. Hicks, Tommy M. Garrison, Andre E. Punt, R.I.C. Chris Francis, John R. Wallace, Chantel R. Wetzel, James T. Thorson, Yukio Takeuchi, Kotaro Ono, Cole C. Monnahan, Christine C. Stawitz, Z. Teresa A’mar, Athol R. Whitten, Kelli F. Johnson, Robbie L. Emmet, Sean C. Anderson, Gwladys I. Lambert, Megan M. Stachura, Andrew B. Cooper, Andi Stephens, Neil L. Klaer, Carey R. McGilliard, Iago Mosqueira, Watal M. Iwasaki, Kathryn L. Doering, Andrea M. Havron, Nathan R. Vaughan, LaTreese S. Denson, Ashleigh J. Novak, Henning Winker, Lee Qi, Megumi Oshima, Eric Fletcher, Elizabeth F. Gugliotti.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

