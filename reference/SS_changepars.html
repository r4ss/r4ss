<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Loops over a subset of control file to change parameter lines.
Current initial value, lower and upper bounds, and phase can be modified,
but function could be expanded to control other columns.
Depends on SS_parlines().
Used by profile() and the ss3sim package."><title>Change parameters, bounds, or phases in the control file. — SS_changepars • r4ss</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Change parameters, bounds, or phases in the control file. — SS_changepars"><meta property="og:description" content="Loops over a subset of control file to change parameter lines.
Current initial value, lower and upper bounds, and phase can be modified,
but function could be expanded to control other columns.
Depends on SS_parlines().
Used by profile() and the ss3sim package."><meta property="og:image" content="https://r4ss.github.io/r4ss/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">r4ss</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.48.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example-plots.html">Example r4ss plots</a>
    <a class="dropdown-item" href="../articles/r4ss-intro-vignette.html">Introduction to r4ss</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r4ss/r4ss/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Change parameters, bounds, or phases in the control file.</h1>
      <small class="dont-index">Source: <a href="https://github.com/r4ss/r4ss/blob/HEAD/R/SS_changepars.R" class="external-link"><code>R/SS_changepars.R</code></a></small>
      <div class="d-none name"><code>SS_changepars.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Loops over a subset of control file to change parameter lines.
Current initial value, lower and upper bounds, and phase can be modified,
but function could be expanded to control other columns.
Depends on <code><a href="SS_parlines.html">SS_parlines()</a></code>.
Used by <code><a href="profile.html">profile()</a></code> and the <span class="pkg">ss3sim</span> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">SS_changepars</span><span class="op">(</span></span>
<span>  dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ctlfile <span class="op">=</span> <span class="st">"control.ss_new"</span>,</span>
<span>  newctlfile <span class="op">=</span> <span class="st">"control_modified.ss"</span>,</span>
<span>  linenums <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newvals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  repeat.vals <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  newlos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newhis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newprior <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newprsd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newprtype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  estimate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  newphs <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dir</dt>
<dd><p>A file path to the directory of interest.
The default value is <code>dir = NULL</code>, which leads to using
the current working directory.</p></dd>


<dt>ctlfile</dt>
<dd><p>Control file name. Default="control.ss_new".</p></dd>


<dt>newctlfile</dt>
<dd><p>Name of new control file to be written.
Default="control_modified.ss".</p></dd>


<dt>linenums</dt>
<dd><p>Line numbers of control file to be modified. Either this or
the <code>strings</code> argument are needed. Default=NULL.</p></dd>


<dt>strings</dt>
<dd><p>Strings (with optional partial matching) indicating which
parameters to be modified. This is an alternative to <code>linenums</code>.
<code>strings</code> correspond to the commented parameter names included in
<code>control.ss_new</code>, or whatever is written as comment at the end
of the 14 number parameter lines. Default=NULL.</p></dd>


<dt>newvals</dt>
<dd><p>Vector of new parameter values. Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>repeat.vals</dt>
<dd><p>If multiple parameter lines match criteria, repeat the
<code>newvals</code> input for each line.</p></dd>


<dt>newlos</dt>
<dd><p>Vector of new lower bounds. Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>newhis</dt>
<dd><p>Vector of new high bounds. Must be the same length as newhis
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>newprior</dt>
<dd><p>Vector of new prior values.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>newprsd</dt>
<dd><p>Vector of new prior sd values.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>newprtype</dt>
<dd><p>Vector of new prior type.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>


<dt>estimate</dt>
<dd><p>Optional vector or single value of TRUE/FALSE for which
parameters are to be estimated. Changes sign of phase to be positive or
negative. Default <code>NULL</code> causes no change to phase.</p></dd>


<dt>verbose</dt>
<dd><p>A logical value specifying if output should be printed
to the screen.</p></dd>


<dt>newphs</dt>
<dd><p>Vector of new phases. Can be a single value, which will be
repeated for each parameter, the same length as newvals, where each
value corresponds to a single parameter, or <code>NULL</code>, where the
phases will not be changed. If one wants to strictly turn parameters
on or off and not change the phase in which they are estimated use
<code>estimate = TRUE</code> or <code>estimate = FALSE</code>, respectively.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remaining parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="SS_parlines.html">SS_parlines()</a></code>, <code><a href="profile.html">profile()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ian Taylor, Christine Stawitz, Chantel Wetzel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">SS_changepars</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dir <span class="op">=</span> <span class="st">"C:/ss/SSv3.30.03.05_May11/Simple - Copy"</span>,</span></span>
<span class="r-in"><span>  strings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"steep"</span>, <span class="st">"sigmaR"</span><span class="op">)</span>, newvals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">.6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## parameter names in control file matching input vector 'strings' (n=2):</span></span></span>
<span class="r-in"><span><span class="co">## [1] "SR_BH_steep" "SR_sigmaR"</span></span></span>
<span class="r-in"><span><span class="co">## These are the ctl file lines as they currently exist:</span></span></span>
<span class="r-in"><span><span class="co">##     LO HI     INIT PRIOR PR_type SD PHASE env_var&amp;link dev_link dev_minyr dev_maxyr</span></span></span>
<span class="r-in"><span><span class="co">## 95 0.2  1 0.613717   0.7    0.05  1     4       0       0         0         0</span></span></span>
<span class="r-in"><span><span class="co">## 96 0.0  2 0.600000   0.8    0.80  0    -4       0       0         0         0</span></span></span>
<span class="r-in"><span><span class="co">##        dev_PH Block Block_Fxn       Label Linenum</span></span></span>
<span class="r-in"><span><span class="co">## 95          0     0         0 SR_BH_steep      95</span></span></span>
<span class="r-in"><span><span class="co">## 96          0     0         0   SR_sigmaR      96</span></span></span>
<span class="r-in"><span><span class="co">## line numbers in control file (n=2):</span></span></span>
<span class="r-in"><span><span class="co">## [1] 95 96</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span><span class="co">## wrote new file to control_modified.ss with the following changes:</span></span></span>
<span class="r-in"><span><span class="co">##    oldvals newvals oldphase newphase oldlos newlos oldhis newhis       comment</span></span></span>
<span class="r-in"><span><span class="co">## 1 0.613717     0.4        4       -4    0.2    0.2      1      1 # SR_BH_steep</span></span></span>
<span class="r-in"><span><span class="co">## 2 0.600000     0.6       -4       -4    0.0    0.0      2      2   # SR_sigmaR</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ian G. Taylor, Ian J. Stewart, Allan C. Hicks, Tommy M. Garrison, Andre E. Punt, R.I.C. Chris Francis, John R. Wallace, Chantel R. Wetzel, James T. Thorson, Yukio Takeuchi, Kotaro Ono, Cole C. Monnahan, Christine C. Stawitz, Z. Teresa A’mar, Athol R. Whitten, Kelli F. Johnson, Robbie L. Emmet, Sean C. Anderson, Gwladys I. Lambert, Megan M. Stachura, Andrew B. Cooper, Andi Stephens, Neil L. Klaer, Carey R. McGilliard, Iago Mosqueira, Watal M. Iwasaki, Kathryn L. Doering, Andrea M. Havron, Nathan R. Vaughan, LaTreese S. Denson, Ashleigh J. Novak, Henning Winker, Lee Qi, Megumi Oshima, Eric Fletcher, Elizabeth F. Gugliotti.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

